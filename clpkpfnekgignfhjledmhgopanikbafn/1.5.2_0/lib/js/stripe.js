document.addEventListener("DOMContentLoaded",()=>{chrome.runtime.sendMessage({type:"prices"},e=>{var t=e.reverse();for(let e=0;e<t.length;e++){var r=t[e],o=r.amount,r=r.id,o=(document.querySelector(`#price${e+1} .priceeee`).innerHTML=o,document.querySelector(`#price${e+1} #getStartedBtn`));o.setAttribute("priceId",r),o.addEventListener("click",async e=>{e.preventDefault(),await n(e.target.getAttribute("priceId"))})}})});const n=async e=>{var t=(await chrome.storage.local.get("isLoggedIn"))["isLoggedIn"];t?chrome.runtime.sendMessage({type:"checkout",id:e}).then(e=>{0==e.isSuccess?console.log(e.msg):e.url&&chrome.tabs.create({url:e.url})}):window.location.href="login.html"};document.querySelector("#logout").addEventListener("click",async e=>{e.preventDefault(),chrome.runtime.sendMessage({type:"logout"}).then(async()=>{await chrome.storage.local.remove("isLoggedIn"),window.location.href="login.html"})}),document.querySelector("#belek").addEventListener("click",async e=>{var t=(await chrome.storage.local.get("billingPortal"))["billingPortal"];console.log(t),t&&chrome.tabs.create({url:t})});