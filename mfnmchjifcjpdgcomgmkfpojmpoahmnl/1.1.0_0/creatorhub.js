(()=>{var t={1989:(t,e,r)=>{var n=r(1789),o=r(401),i=r(7667),a=r(1327),u=r(1866);function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=u,t.exports=c},8407:(t,e,r)=>{var n=r(7040),o=r(4125),i=r(2117),a=r(7529),u=r(4705);function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=u,t.exports=c},7071:(t,e,r)=>{var n=r(852)(r(5639),"Map");t.exports=n},3369:(t,e,r)=>{var n=r(4785),o=r(1285),i=r(6e3),a=r(9916),u=r(5265);function c(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=u,t.exports=c},8668:(t,e,r)=>{var n=r(3369),o=r(619),i=r(2385);function a(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new n;++e<r;)this.add(t[e])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,t.exports=a},2705:(t,e,r)=>{var n=r(5639).Symbol;t.exports=n},6874:t=>{t.exports=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}},7443:(t,e,r)=>{var n=r(2118);t.exports=function(t,e){return!!(null==t?0:t.length)&&n(t,e,0)>-1}},1196:t=>{t.exports=function(t,e,r){for(var n=-1,o=null==t?0:t.length;++n<o;)if(r(e,t[n]))return!0;return!1}},9932:t=>{t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}},2488:t=>{t.exports=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}},8470:(t,e,r)=>{var n=r(7813);t.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},731:(t,e,r)=>{var n=r(8668),o=r(7443),i=r(1196),a=r(9932),u=r(7518),c=r(4757);t.exports=function(t,e,r,s){var l=-1,f=o,p=!0,h=t.length,d=[],v=e.length;if(!h)return d;r&&(e=a(e,u(r))),s?(f=i,p=!1):e.length>=200&&(f=c,p=!1,e=new n(e));t:for(;++l<h;){var y=t[l],m=null==r?y:r(y);if(y=s||0!==y?y:0,p&&m==m){for(var g=v;g--;)if(e[g]===m)continue t;d.push(y)}else f(e,m,s)||d.push(y)}return d}},1848:t=>{t.exports=function(t,e,r,n){for(var o=t.length,i=r+(n?1:-1);n?i--:++i<o;)if(e(t[i],i,t))return i;return-1}},1078:(t,e,r)=>{var n=r(2488),o=r(7285);t.exports=function t(e,r,i,a,u){var c=-1,s=e.length;for(i||(i=o),u||(u=[]);++c<s;){var l=e[c];r>0&&i(l)?r>1?t(l,r-1,i,a,u):n(u,l):a||(u[u.length]=l)}return u}},4239:(t,e,r)=>{var n=r(2705),o=r(9607),i=r(2333),a=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?o(t):i(t)}},2118:(t,e,r)=>{var n=r(1848),o=r(2722),i=r(2351);t.exports=function(t,e,r){return e==e?i(t,e,r):n(t,o,r)}},9454:(t,e,r)=>{var n=r(4239),o=r(7005);t.exports=function(t){return o(t)&&"[object Arguments]"==n(t)}},2722:t=>{t.exports=function(t){return t!=t}},8458:(t,e,r)=>{var n=r(3560),o=r(5346),i=r(3218),a=r(346),u=/^\[object .+?Constructor\]$/,c=Function.prototype,s=Object.prototype,l=c.toString,f=s.hasOwnProperty,p=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(n(t)?p:u).test(a(t))}},5976:(t,e,r)=>{var n=r(6557),o=r(5357),i=r(61);t.exports=function(t,e){return i(o(t,e,n),t+"")}},6560:(t,e,r)=>{var n=r(5703),o=r(8777),i=r(6557),a=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:i;t.exports=a},4259:t=>{t.exports=function(t,e,r){var n=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var i=Array(o);++n<o;)i[n]=t[n+e];return i}},7561:(t,e,r)=>{var n=r(7990),o=/^\s+/;t.exports=function(t){return t?t.slice(0,n(t)+1).replace(o,""):t}},7518:t=>{t.exports=function(t){return function(e){return t(e)}}},4757:t=>{t.exports=function(t,e){return t.has(e)}},4429:(t,e,r)=>{var n=r(5639)["__core-js_shared__"];t.exports=n},8777:(t,e,r)=>{var n=r(852),o=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},1957:(t,e,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;t.exports=n},5050:(t,e,r)=>{var n=r(7019);t.exports=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}},852:(t,e,r)=>{var n=r(8458),o=r(7801);t.exports=function(t,e){var r=o(t,e);return n(r)?r:void 0}},9607:(t,e,r)=>{var n=r(2705),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,u=n?n.toStringTag:void 0;t.exports=function(t){var e=i.call(t,u),r=t[u];try{t[u]=void 0;var n=!0}catch(t){}var o=a.call(t);return n&&(e?t[u]=r:delete t[u]),o}},7801:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},1789:(t,e,r)=>{var n=r(4536);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},401:t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},7667:(t,e,r)=>{var n=r(4536),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(e,t)?e[t]:void 0}},1327:(t,e,r)=>{var n=r(4536),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:o.call(e,t)}},1866:(t,e,r)=>{var n=r(4536);t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},7285:(t,e,r)=>{var n=r(2705),o=r(5694),i=r(1469),a=n?n.isConcatSpreadable:void 0;t.exports=function(t){return i(t)||o(t)||!!(a&&t&&t[a])}},5776:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,r){var n=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&e.test(t))&&t>-1&&t%1==0&&t<r}},6612:(t,e,r)=>{var n=r(7813),o=r(8612),i=r(5776),a=r(3218);t.exports=function(t,e,r){if(!a(r))return!1;var u=typeof e;return!!("number"==u?o(r)&&i(e,r.length):"string"==u&&e in r)&&n(r[e],t)}},7019:t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},5346:(t,e,r)=>{var n,o=r(4429),i=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!i&&i in t}},7040:t=>{t.exports=function(){this.__data__=[],this.size=0}},4125:(t,e,r)=>{var n=r(8470),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0)&&(r==e.length-1?e.pop():o.call(e,r,1),--this.size,!0)}},2117:(t,e,r)=>{var n=r(8470);t.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},7529:(t,e,r)=>{var n=r(8470);t.exports=function(t){return n(this.__data__,t)>-1}},4705:(t,e,r)=>{var n=r(8470);t.exports=function(t,e){var r=this.__data__,o=n(r,t);return o<0?(++this.size,r.push([t,e])):r[o][1]=e,this}},4785:(t,e,r)=>{var n=r(1989),o=r(8407),i=r(7071);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||o),string:new n}}},1285:(t,e,r)=>{var n=r(5050);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},6e3:(t,e,r)=>{var n=r(5050);t.exports=function(t){return n(this,t).get(t)}},9916:(t,e,r)=>{var n=r(5050);t.exports=function(t){return n(this,t).has(t)}},5265:(t,e,r)=>{var n=r(5050);t.exports=function(t,e){var r=n(this,t),o=r.size;return r.set(t,e),this.size+=r.size==o?0:1,this}},4536:(t,e,r)=>{var n=r(852)(Object,"create");t.exports=n},2333:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},5357:(t,e,r)=>{var n=r(6874),o=Math.max;t.exports=function(t,e,r){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,a=-1,u=o(i.length-e,0),c=Array(u);++a<u;)c[a]=i[e+a];a=-1;for(var s=Array(e+1);++a<e;)s[a]=i[a];return s[e]=r(c),n(t,this,s)}}},5639:(t,e,r)=>{var n=r(1957),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();t.exports=i},619:t=>{t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},2385:t=>{t.exports=function(t){return this.__data__.has(t)}},61:(t,e,r)=>{var n=r(6560),o=r(1275)(n);t.exports=o},1275:t=>{var e=Date.now;t.exports=function(t){var r=0,n=0;return function(){var o=e(),i=16-(o-n);if(n=o,i>0){if(++r>=800)return arguments[0]}else r=0;return t.apply(void 0,arguments)}}},2351:t=>{t.exports=function(t,e,r){for(var n=r-1,o=t.length;++n<o;)if(t[n]===e)return n;return-1}},346:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},7990:t=>{var e=/\s/;t.exports=function(t){for(var r=t.length;r--&&e.test(t.charAt(r)););return r}},8400:(t,e,r)=>{var n=r(4259),o=r(6612),i=r(554),a=Math.ceil,u=Math.max;t.exports=function(t,e,r){e=(r?o(t,e,r):void 0===e)?1:u(i(e),0);var c=null==t?0:t.length;if(!c||e<1)return[];for(var s=0,l=0,f=Array(a(c/e));s<c;)f[l++]=n(t,s,s+=e);return f}},9693:t=>{t.exports=function(t){for(var e=-1,r=null==t?0:t.length,n=0,o=[];++e<r;){var i=t[e];i&&(o[n++]=i)}return o}},5703:t=>{t.exports=function(t){return function(){return t}}},1966:(t,e,r)=>{var n=r(731),o=r(1078),i=r(5976),a=r(9246),u=i((function(t,e){return a(t)?n(t,o(e,1,a,!0)):[]}));t.exports=u},7813:t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},6557:t=>{t.exports=function(t){return t}},5694:(t,e,r)=>{var n=r(9454),o=r(7005),i=Object.prototype,a=i.hasOwnProperty,u=i.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(t){return o(t)&&a.call(t,"callee")&&!u.call(t,"callee")};t.exports=c},1469:t=>{var e=Array.isArray;t.exports=e},8612:(t,e,r)=>{var n=r(3560),o=r(1780);t.exports=function(t){return null!=t&&o(t.length)&&!n(t)}},9246:(t,e,r)=>{var n=r(8612),o=r(7005);t.exports=function(t){return o(t)&&n(t)}},3560:(t,e,r)=>{var n=r(4239),o=r(3218);t.exports=function(t){if(!o(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},1780:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},3218:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},7005:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},3448:(t,e,r)=>{var n=r(4239),o=r(7005);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==n(t)}},8601:(t,e,r)=>{var n=r(4841),o=1/0;t.exports=function(t){return t?(t=n(t))===o||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},554:(t,e,r)=>{var n=r(8601);t.exports=function(t){var e=n(t),r=e%1;return e==e?r?e-r:e:0}},4841:(t,e,r)=>{var n=r(7561),o=r(3218),i=r(3448),a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,s=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return NaN;if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=n(t);var r=u.test(t);return r||c.test(t)?s(t.slice(2),r?2:8):a.test(t)?NaN:+t}}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t,e=r(9693),n=r.n(e),o={"Amazon Games":20,"Luxury Beauty, Luxury Stores Beauty, Amazon Explore":10,"Digital Music, Physical Music, Handmade, Digital Videos":5,"Physical Books, Kitchen, Automotive":4.5,"Amazon Fire Tablet Devices, Amazon Kindle Devices, Amazon Fashion Women's, Men's & Kids Private Label, Luxury Stores Fashion, Apparel, Amazon Cloud Cam Devices, Fire TV Edition Smart TVs, Amazon Fire TV Devices, Amazon Echo Devices, Ring Devices, Watches, Jewelry, Luggage, Shoes, and Handbags & Accessories":4,"Toys, Furniture, Home, Home Improvement, Lawn & Garden, Pets Products, Headphones, Beauty, Musical Instruments, Business & Industrial Supplies, Outdoors, Tools, Sports, Baby Products, Amazon Coins, hi":3,"PC, PC Components, DVD & Blu-Ray":2.5,"Televisions, Digital Video Games":2,"Amazon Fresh, Physical Video Games & Video Game Consoles, Grocery, Health & Personal Care, hpc":1,"Gift Cards; Wireless Service Plans; Alcoholic Beverages; Digital Kindle Products purchased as a subscription; Food prepared and delivered from a restaurant; Amazon Appstore, Prime Now, or Amazon Pay Places":0},i={"Luxury Beauty, Luxury Stores Beauty, Amazon Coins":5,"Furniture, Home, Home Improvement, Lawn & Garden, Pets Products, Pantry, hi":4,"Headphones, Beauty, Musical Instruments, Business & Industrial Supplies, hpc":3,"Outdoors, Tools":2.75,"Digital Music, Grocery, Physical Music, Handmade, Digital Videos":2.5,"Physical Books, Health & Personal Care, Sports, Kitchen, Automotive, Baby Products":2.25,"Amazon Fire Tablet Devices, Amazon Kindle Devices, Amazon Fashion Women's, Men's & Kids Private Label, Apparel, Amazon Cloud Cam Devices, Fire TV Edition Smart TVs, Amazon Fire TV Devices, Amazon Echo Devices, Ring Devices, Watches, Jewelry, Luggage, Shoes, and Handbags & Accessories":2,"Amazon Fresh, Toys":1.5,"PC, PC Components, DVD & Blu-Ray":1.25,"Televisions, Digital Video Games":1,"Physical Video Games & Video Game Consoles":.5,"Gift Cards; Wireless Service Plans; Alcoholic Beverages; Digital Kindle Products purchased as a subscription; Food prepared and delivered from a restaurant; Amazon Appstore, Prime Now, Amazon Pay Places, or Prime Wardrobe Purchases":0},a=function(t,e){return{headers:{accept:"text/html,*/*","accept-language":"en-US,en;q=0.9","content-type":"application/json"},body:JSON.stringify({pageContext:{page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:t,locale:"en_US",product:{contentID:e,contentIDType:"ASIN"}},configuration:{id:"div-relatedvideos",type:"relatedvideos",binder:"relatedvideos",loader:"lazyload",features:{features:{verticalcarousel:"true",segmentOneHeaderId:"vse_ib_segment_one",segmentTwoHeaderId:"vse_ib_segment_two",segmentThreeHeaderId:"vse_ib_segment_three",segmentOneHeaderDefault:"Videos for this product",segmentTwoHeaderDefault:"Related videos",segmentThreeHeaderDefault:"Customer review videos",includeProfiles:"true",showCustomerReviewMetadata:"true",enableCustomerReviewVideos:"true"}},sources:{source:"VideoAdsDataAggregatorService"}}}),method:"POST",mode:"cors",credentials:"include"}};function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(t){return function(t){if(Array.isArray(t))return f(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||l(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=l(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function l(t,e){if(t){if("string"==typeof t)return f(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(t,e):void 0}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function p(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */p=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),u=new E(o||[]);return n(a,"_invoke",{value:_(t,r,u)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var h={};function d(){}function v(){}function y(){}var m={};s(m,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(O([])));b&&b!==e&&r.call(b,i)&&(m=b);var w=y.prototype=d.prototype=Object.create(m);function x(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function o(n,i,a,c){var s=f(t[n],t,i);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==u(p)&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(p).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,c)}))}c(s.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return P()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=A(a,r);if(u){if(u===h)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=f(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function A(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,A(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=f(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,h;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function O(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return v.prototype=y,n(w,"constructor",{value:y,configurable:!0}),n(y,"constructor",{value:v,configurable:!0}),v.displayName=s(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,s(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},x(S.prototype),s(S.prototype,a,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new S(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(w),s(w,c,"Generator"),s(w,i,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=O,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:O(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}function h(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function d(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function v(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){d(i,n,o,a,u,"next",t)}function u(t){d(i,n,o,a,u,"throw",t)}a(void 0)}))}}function y(){return m.apply(this,arguments)}function m(){return(m=v(p().mark((function e(){var r;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,chrome.storage.local.get();case 2:r=e.sent,t=r;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e)}var r,u,l,f,d,m;return r=e,u=[{key:"getData",value:(m=v(p().mark((function t(e){var r;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y();case 2:return this.name=this.getName(e),this.image=this.getImage(e),this.asin=this.getAsin(e),this.rating=this.getRating(e),this.reviewCount=this.getReviewCount(e),this.bsr=this.getBsrDetails(e),this.firstAvailable=this.getFirstAvailable(e),t.next=11,this.getVideoCount(e);case 11:r=t.sent,this.sellerVideos=r.sellerVideos,this.influencerVideos=r.influencerVideos,this.upperVideos=r.upperVideos,this.lowerVideos=r.lowerVideos,this.upperVideoShops=r.upperVideoShops,this.lowerVideoShops=r.lowerVideoShops,this.videoSlotsAvailable=r.videoSlotsAvailable,this.hasVideoCarousel=r.hasVideoCarousel,this.canCache=!1,this.hasCreatorVideo=r.hasCreatorVideo,this.isLowInStock=this.isLowInStock(e),this.category=this.getCategory(e),this.price=this.getPrice(e),this.affRate=this.getAffRate(),this.influencerRate=this.getInfluencerRate(),this.affAmount=this.getAffAmount(),this.influencerAmount=this.getInfluencerAmount(),this.createdAt=Date.now();case 30:case"end":return t.stop()}}),t,this)}))),function(t){return m.apply(this,arguments)})},{key:"getHtmlDoc",value:(d=v(p().mark((function t(e){var r,n,o,i,a,u=arguments;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},t.prev=1,t.next=4,fetch(e,r);case 4:return n=t.sent,t.next=7,n.text();case 7:return o=t.sent,i=new DOMParser,a=i.parseFromString(o,"text/html"),t.abrupt("return",a);case 13:t.prev=13,t.t0=t.catch(1),console.log(t.t0);case 16:return t.abrupt("return",null);case 17:case"end":return t.stop()}}),t,null,[[1,13]])}))),function(t){return d.apply(this,arguments)})},{key:"getName",value:function(t){var e;return(null===(e=t.querySelector("#productTitle"))||void 0===e?void 0:e.innerText.trim())||""}},{key:"getImage",value:function(t){var e;return(null===(e=t.querySelector("#imageBlock #landingImage"))||void 0===e?void 0:e.src)||""}},{key:"isSponsored",value:function(t){return!!t.querySelector(".puis-sponsored-label-text")||!!t.querySelector('[class*="sponsoredLabel"]')}},{key:"getAsin",value:function(t){var e=t.documentElement.textContent.match(/"currentAsin" : "([^"]+)"/);if(e)return e[1].trim();var r,n=null,o=s(t.querySelectorAll("[data-product-asin], [data-csa-c-asin]"));try{for(o.s();!(r=o.n()).done;){var i=r.value,a=i.getAttribute("data-product-asin")||i.getAttribute("data-csa-c-asin");if(null!==a&&""!==a.trim()){n=a;break}}}catch(t){o.e(t)}finally{o.f()}return n}},{key:"getRating",value:function(t){var e=t.querySelector("#averageCustomerReviews .a-icon-star");return e?e.previousElementSibling.innerText.trim():0}},{key:"getReviewCount",value:function(t){var e=t.querySelector("#acrCustomerReviewText");return e?e.innerText.split(" ")[0]:0}},{key:"getBsrFromTable",value:function(t){for(var e=t.querySelectorAll("th"),r=0;r<e.length;r++)if("Best Sellers Rank"===e[r].textContent.trim())return e[r].nextElementSibling.innerHTML;return""}},{key:"getBsrDetails",value:function(t){var e=t.querySelector("#prodDetails");if(e)return this.getBsrFromTable(e);var r=t.querySelectorAll(".a-list-item"),n=/<span[^>]*?class="a-text-bold"[^>]*?>\s*Best Sellers Rank:\s*<\/span>/i,o=null;return r.forEach((function(t){var e=t.innerHTML;e.includes("Best Sellers Rank")&&(t.innerHTML=e.replace(n,""),o=t)})),o?o.innerHTML.trim():""}},{key:"getFirstAvailableFromTable",value:function(t){for(var e=t.querySelectorAll("th"),r=0;r<e.length;r++)if("Date First Available"===e[r].textContent.trim())return e[r].nextElementSibling.innerText.trim();return"Date Not Available"}},{key:"getFirstAvailable",value:function(t){var e=t.querySelector("#prodDetails");if(e)return this.getFirstAvailableFromTable(e);var r=t.querySelectorAll(".a-list-item"),n=null;return r.forEach((function(t){t.innerHTML.includes("Date First Available")&&(n=t.querySelector("span:nth-child(2)"))})),n?n.innerText.trim():"Date Not Available"}},{key:"isLowInStock",value:function(t){var e=t.querySelector("#availability");if(!e)return!1;var r=e.innerText;return["out of stock","unavailable","left in stock","Only"].some((function(t){return r.includes(t)}))}},{key:"getCategory",value:function(t){var e=t.documentElement.textContent.match(/"storeID":"([^"]+)"/);return e?e[1].replaceAll("-"," "):"other"}},{key:"getPrice",value:function(t){var e=t.documentElement.textContent.match(/"displayPrice":"([^"]+)"/);return e?e[1].replace("$","").replace(",",""):"0.00"}},{key:"getAffRate",value:function(){for(var t in o){var e=new RegExp("\\b".concat(this.category,"\\b"),"i"),r=t.replaceAll("& ","").toLowerCase();if(e.test(r))return o[t]}var n,i=s(this.category.split(" "));try{for(i.s();!(n=i.n()).done;){var a=n.value;if("and"!=a){var u=new RegExp("\\b".concat(a,"\\b"),"i");for(var c in o){var l=c.replaceAll("& ","").toLowerCase();if(u.test(l))return o[c]}}}}catch(t){i.e(t)}finally{i.f()}return 4}},{key:"getInfluencerRate",value:function(){for(var t in i){var e=new RegExp("\\b".concat(this.category,"\\b"),"i"),r=t.replaceAll("& ","").toLowerCase();if(e.test(r))return i[t]}var n,o=s(this.category.split(" "));try{for(o.s();!(n=o.n()).done;){var a=n.value;if("and"!=a){var u=new RegExp("\\b".concat(a,"\\b"),"i");for(var c in i){var l=c.replaceAll("& ","").toLowerCase();if(u.test(l))return i[c]}}}}catch(t){o.e(t)}finally{o.f()}return 2}},{key:"getAffAmount",value:function(){return(this.affRate/100*this.price).toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2})}},{key:"getInfluencerAmount",value:function(){return(this.influencerRate/100*this.price).toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2})}},{key:"getMarketPlaceId",value:function(t){var e="ATVPDKIKX0DER",r=t.querySelector("#marketplaceId");return r&&(e=r.value),e}},{key:"getCarouselVideoCount",value:function(t){var e=t.querySelector("#videoCount, .video-count");if(!e)return 0;var r=e.innerText.trim();if("VIDEO"==r)return 1;var n=r.replace(/[^\d]/g,"").trim();return 0==n.length?0:parseInt(n)}},{key:"getVideoCount",value:(f=v(p().mark((function e(r){var o,i,u,s,l,f,h,d,v,y,m,g,b,w,x,S,_;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o={influencerVideos:0,sellerVideos:0,upperVideos:[],lowerVideos:[],upperVideoShops:[],lowerVideoShops:[],videoSlotsAvailable:0,hasVideoCarousel:!1,canCache:!1,hasCreatorVideo:!1},i=this.getMarketPlaceId(r),u=this.getCarouselVideoCount(r),o.hasVideoCarousel=!!u,s=a(i,this.asin),!u){e.next=12;break}return e.next=9,this.getHtmlDoc("https://www.amazon.com/vap/ew/subcomponent/relatedvideos",s);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=document.createElement("div");case 13:return l=e.t0,f='[data-creator-type=""][data-aci-content-id], [data-csa-c-item-id] [data-creator-type=""]',h=c(null==l?void 0:l.querySelectorAll(f)).map((function(t){return t.getAttribute("data-aci-content-id")||t.getAttribute("data-csa-c-item-id")})),d='[data-creator-type="Influencer"][data-aci-content-id], [data-csa-c-item-id] [data-creator-type="Influencer"], [data-csa-c-item-id][data-creator-type="Influencer"], '+'[data-creator-type="Influencer"][data-related-products-asins="'.concat(this.asin,'"]'),v=c(null==l?void 0:l.querySelectorAll(d)).map((function(t){return t.getAttribute("data-aci-content-id")||t.getAttribute("data-csa-c-item-id")})),y=[].concat(c(null==l?void 0:l.querySelectorAll(f)),c(null==l?void 0:l.querySelectorAll(d))).map((function(t){return t.getAttribute("data-aci-content-id")||t.getAttribute("data-csa-c-item-id")})),m=[].concat(c(r.querySelectorAll(f)),c(r.querySelectorAll(d))).map((function(t){return t.getAttribute("data-aci-content-id")||t.getAttribute("data-csa-c-item-id")})),g=[].concat(c(null==l?void 0:l.querySelectorAll(f)),c(null==l?void 0:l.querySelectorAll(d))).map((function(t){return t.getAttribute("data-vendor-code")})),b=[].concat(c(r.querySelectorAll(f)),c(r.querySelectorAll(d))).map((function(t){return t.getAttribute("data-vendor-code")})),h=n()(h),v=n()(v),y=n()(y),m=n()(m),g=n()(g),b=n()(b),o.sellerVideos=new Set(h).size,o.influencerVideos=new Set(v).size,o.upperVideos=c(new Set(y)),o.lowerVideos=c(new Set(m)),o.upperVideoShops=c(new Set(g)),o.lowerVideoShops=c(new Set(b)),o.canCache=!(!u||null==l||!l.querySelector("[data-creator-type]")),o.sellerVideos||o.influencerVideos?5==o.influencerVideos?o.videoSlotsAvailable=0:(w=o.influencerVideos+o.sellerVideos,x=10-w,S=5-o.influencerVideos,o.videoSlotsAvailable=x>=S?S:x):o.videoSlotsAvailable=u<=5&&0!=u?5:0==u?0:10-u,_=t.shopName,o.hasCreatorVideo=o.upperVideoShops.includes(_)||o.lowerVideoShops.includes(_),e.abrupt("return",o);case 39:case"end":return e.stop()}}),e,this)}))),function(t){return f.apply(this,arguments)})}],u&&h(r.prototype,u),l&&h(r,l),Object.defineProperty(r,"prototype",{writable:!1}),e}();function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function w(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */w=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),u=new E(o||[]);return n(a,"_invoke",{value:_(t,r,u)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(O([])));m&&m!==e&&r.call(m,i)&&(v=m);var g=d.prototype=p.prototype=Object.create(v);function x(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function o(n,i,a,u){var c=l(t[n],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==b(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function _(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return P()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=A(a,r);if(u){if(u===f)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function A(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,A(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function O(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},x(S.prototype),c(S.prototype,a,(function(){return this})),t.AsyncIterator=S,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new S(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(g),c(g,u,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=O,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:O(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function x(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function S(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){x(i,n,o,a,u,"next",t)}function u(t){x(i,n,o,a,u,"throw",t)}a(void 0)}))}}function _(t){return A.apply(this,arguments)}function A(){return(A=S(w().mark((function t(e){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){return setTimeout(t,1e3*e)})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function L(t){if(!t)return!0;var e=t.createdAt;return Date.now()-e>72e5}function k(t){return E.apply(this,arguments)}function E(){return(E=S(w().mark((function t(e){var r,n;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,chrome.storage.local.get("productData");case 4:return r=t.sent,n=r.productData,t.abrupt("return",n[e]);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function O(t){return P.apply(this,arguments)}function P(){return(P=S(w().mark((function t(e){var r,n;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,chrome.storage.local.get("productData");case 2:r=t.sent,(n=r.productData)[e.asin]=e,chrome.storage.local.set({productData:n});case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function j(t){return T.apply(this,arguments)}function T(){return(T=S(w().mark((function t(e){var r,n,o;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,chrome.runtime.sendMessage({action:"get-html",url:e});case 2:if(r=t.sent){t.next=5;break}return t.abrupt("return",null);case 5:return n=new DOMParser,o=n.parseFromString(r,"text/html"),t.abrupt("return",o);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function V(t){var e=t.match(/(?:[/dp/]|$)([A-Z0-9]{10})/);if(!e)return null;var r=(e[1]||e[2]||"").replace(/\//g,"");return r.startsWith("B0")?r:null}function D(t){return C.apply(this,arguments)}function C(){return(C=S(w().mark((function t(e){var r,n;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=V(e)){t.next=3;break}return t.abrupt("return",null);case 3:return t.next=5,k(r);case 5:if(n=t.sent){t.next=8;break}return t.abrupt("return",null);case 8:if(!n||!L(n)){t.next=10;break}return t.abrupt("return",null);case 10:return t.next=12,G(n);case 12:return n=t.sent,t.abrupt("return",n);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function I(t,e){return F.apply(this,arguments)}function F(){return(F=S(w().mark((function t(e,r){var n,o;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j(e);case 2:if(n=t.sent){t.next=5;break}return t.abrupt("return",null);case 5:return(o=new g).sponsored=!!r&&o.isSponsored(r),t.next=9,o.getData(n);case 9:return o.canCache&&O(o),t.abrupt("return",o);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function N(t,e){return q.apply(this,arguments)}function q(){return(q=S(w().mark((function t(e,r){var n;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D(e);case 2:if(t.t0=t.sent,t.t0){t.next=7;break}return t.next=6,I(e,r);case 6:t.t0=t.sent;case 7:if(n=t.t0){t.next=10;break}return t.abrupt("return",null);case 10:return t.abrupt("return",n);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function G(t){return z.apply(this,arguments)}function z(){return(z=S(w().mark((function t(e){var r,n,o,i;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,chrome.storage.local.get("shopName");case 2:return r=t.sent,n=r.shopName,o=e.upperVideoShops,i=e.lowerVideoShops,e.hasCreatorVideo=o.includes(n)||i.includes(n),t.abrupt("return",e);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function R(t){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(t)}function M(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */M=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),u=new L(o||[]);return n(a,"_invoke",{value:x(t,r,u)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(k([])));m&&m!==e&&r.call(m,i)&&(v=m);var g=d.prototype=p.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,u){var c=l(t[n],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==R(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return E()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=S(a,r);if(u){if(u===f)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function S(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function k(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(g),c(g,u,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),A(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function H(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function B(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){H(i,n,o,a,u,"next",t)}function u(t){H(i,n,o,a,u,"throw",t)}a(void 0)}))}}function $(){return U.apply(this,arguments)}function U(){return(U=B(M().mark((function t(){var e,r,n,o;return M().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,chrome.storage.local.get("user");case 2:if(e=t.sent,r=e.user){t.next=6;break}return t.abrupt("return",null);case 6:if(n=r.email,o=r.subscription_active,"sortioamz@gmail.com"!=n.toLowerCase()){t.next=9;break}return t.abrupt("return",!0);case 9:if(o){t.next=11;break}return t.abrupt("return",null);case 11:return t.abrupt("return",!0);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var K=r(8400),W=r.n(K),Y=r(1966),J=r.n(Y);function X(t){return X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X(t)}function Z(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Z=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),u=new L(o||[]);return n(a,"_invoke",{value:x(t,r,u)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function p(){}function h(){}function d(){}var v={};c(v,i,(function(){return this}));var y=Object.getPrototypeOf,m=y&&y(y(k([])));m&&m!==e&&r.call(m,i)&&(v=m);var g=d.prototype=p.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,u){var c=l(t[n],t,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==X(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,u)}),(function(t){o("throw",t,a,u)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,u)}))}u(c.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return E()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=S(a,r);if(u){if(u===f)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=l(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}function S(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function k(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:h,configurable:!0}),h.displayName=c(d,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(g),c(g,u,"Generator"),c(g,i,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),A(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function Q(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function tt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Q(Object(r),!0).forEach((function(e){et(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function et(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rt(t){return function(t){if(Array.isArray(t))return it(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||ot(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nt(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=ot(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function ot(t,e){if(t){if("string"==typeof t)return it(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?it(t,e):void 0}}function it(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function at(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void r(t)}u.done?e(c):Promise.resolve(c).then(n,o)}function ut(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){at(i,n,o,a,u,"next",t)}function u(t){at(i,n,o,a,u,"throw",t)}a(void 0)}))}}var ct=[],st=[],lt=[],ft=0;function pt(){return(pt=ut(Z().mark((function t(){return Z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;break;case 2:return t.next=4,$();case 4:if(t.sent){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,_(2);case 8:if(dt()){t.next=11;break}return t.abrupt("return");case 11:yt(),document.addEventListener("click",ht),mt(),vt(),lt=ct.reduce((function(t,e){return[].concat(rt(t),rt(e.associatedAsins))}),[]),gt();case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ht(t){!function(t){var e;if(null===(e=t.target)||void 0===e||!e.id||!t.target.id.startsWith("vp-dropdown-select"))return;var r,n=t.target.innerText.trim().toLowerCase(),o="div:has(> div[id^=cp-video-library-table-row])",i=document.querySelectorAll(o),a=nt(i);try{for(a.s();!(r=a.n()).done;){r.value.style.display="none"}}catch(t){a.e(t)}finally{a.f()}"upper"==n&&(i=document.querySelectorAll("div:has(> div[id^=cp-video-library-table-row] .kk-vp-upper)"));"lower"==n&&(i=document.querySelectorAll("div:has(> div[id^=cp-video-library-table-row] .kk-vp-lower)"));"none"==n&&(i=document.querySelectorAll("div:has(> div[id^=cp-video-library-table-row] .kk-vp-none)"));var u,c=nt(i);try{for(c.s();!(u=c.n()).done;){u.value.style.display="block"}}catch(t){c.e(t)}finally{c.f()}}(t),function(t){var e=["kk-vp-upper","kk-vp-lower","kk-vp-none"],r=rt(t.target.classList);if(!r.find((function(t){return e.includes(t)})))return;var n=t.target.closest(".cp-video-library-table-row[name]"),o=n.getAttribute("name"),i=ct.find((function(t){return t.contentId==o})).productAsin;window.open("https://www.amazon.com/dp/".concat(i),"_blank")}(t)}function dt(){var t=document.querySelector("section.cp-video-library-status-section");if(!t)return null;var e=t.cloneNode(!0);return e.querySelector(".cp-video-library-header").innerText="Placement",t.parentElement.appendChild(e),!0}function vt(){var t,e=nt(ct.map((function(t){return t.contentId})).map((function(t){return document.querySelector('.cp-video-library-table-row[name="'.concat(t,'"]'))})));try{for(e.s();!(t=e.n()).done;){var r=t.value;if(r){var n=r.querySelector(".cp-video-library-view-duration-section"),o=document.createElement("section");o.innerHTML='<div class="cp-vertically-aligned-table-cell"><div class="kk-vp-btn">Checking</div></div>',n.parentElement.appendChild(o)}}}catch(t){e.e(t)}finally{e.f()}}function yt(){var t=document.querySelector(".cp-inf-video-rows-outline .a-row .a-column.a-span6"),e=document.querySelector(".cp-inf-video-rows-outline .a-row .a-column.a-span4");t.style.width="auto",e.style.width="auto",e.querySelector(".Select-video-to-upload").style.marginLeft="28px";var r=e.cloneNode(!0);r.querySelector(".Select-video-to-upload").innerText="Video Placement:",r.querySelector("select").id="vp-dropdown-select",r.querySelector("#cp-video-library-status-dropdown").id="vp-dropdown-span",r.querySelector('[data-action="a-dropdown-button"]').id="vp-dropdown-button",r.querySelector(".a-dropdown-prompt").innerText="Show all",r.querySelector("select").innerHTML='\n    <option value="show_all">Show all</option>\n    <option value="upper">Upper</option>\n    <option value="lower">Lower</option>\n    <option value="none">None</option>\n    ',r.querySelector("select").value="show_all",e.insertAdjacentElement("afterend",r)}function mt(){var t,e,r=document.querySelector('script[data-a-state*="cp-video-library-params"]').innerText,n=JSON.parse(JSON.parse(r).videos);e=null===(t=n[0])||void 0===t||null===(t=t.owner)||void 0===t?void 0:t.publisherId,chrome.storage.local.set({shopName:e});var o=n.map((function(t){return{contentId:t.contentId,associatedAsins:t.associatedAsins,videoState:t.videoState}}));ct=o,ct=o.filter((function(t){return"APPROVED"==t.videoState}))}function gt(){return bt.apply(this,arguments)}function bt(){return(bt=ut(Z().mark((function t(){var e,r,n,o,i;return Z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=W()(lt,3),r=nt(e),t.prev=2,r.s();case 4:if((n=r.n()).done){t.next=13;break}return o=n.value,i=o.reduce((function(t,e){return[].concat(rt(t),[At(e)])}),[]),t.next=9,Promise.all(i);case 9:wt(),_t();case 11:t.next=4;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(2),r.e(t.t0);case 18:return t.prev=18,r.f(),t.finish(18);case 21:if(void 0,!(0!=ct.filter((function(t){return!t.placement})).length&&ft<3)){t.next=25;break}return ft++,gt(),t.abrupt("return");case 25:kt();case 26:case"end":return t.stop()}}),t,null,[[2,15,18,21]])})))).apply(this,arguments)}function wt(){var t=st.map((function(t){return t.asin})),e=ct.filter((function(t){return!t.placement})).filter((function(e){return 0==J()(e.associatedAsins,t).length}));if(0!=e.legnth){var r,n=nt(e);try{for(n.s();!(r=n.n()).done;){xt(r.value)}}catch(t){n.e(t)}finally{n.f()}}}function xt(t){var e=t.contentId,r=t.associatedAsins,n=st.filter((function(t){return r.includes(t.asin)})),o=St(e,n,"upper")||St(e,n,"lower")||{placement:"none",productAsin:r[0]};ct=ct.map((function(t){return t.contentId==e&&(t=tt(tt({},t),o)),t}))}function St(t,e,r){var n,o=nt(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(("upper"==r?i.upperVideos:i.lowerVideos).some((function(e){return e.includes(t)})))return{placement:r,productAsin:i.asin}}}catch(t){o.e(t)}finally{o.f()}return null}function _t(){var t,e,r=nt(ct.filter((function(t){return t.placement})));try{for(r.s();!(t=r.n()).done;){var n=t.value,o=n.contentId,i=n.placement,a=document.querySelector('div[name="'.concat(o,'"] .kk-vp-btn'));a&&(a.innerText=(e=i).charAt(0).toUpperCase()+e.slice(1),a.classList.add("kk-vp-".concat(i)))}}catch(t){r.e(t)}finally{r.f()}}function At(t){return Lt.apply(this,arguments)}function Lt(){return(Lt=ut(Z().mark((function t(e){var r,n;return Z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="https://www.amazon.com/dp/".concat(e),t.next=3,N(r);case 3:if(n=t.sent){t.next=6;break}return t.abrupt("return");case 6:st.push(n);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function kt(){ct=ct.map((function(t){var e={placement:"none",productAsin:t.associatedAsins[0]};return t.placement||(t=tt(tt({},t),e)),t})),_t()}window.addEventListener("load",(function(){return pt.apply(this,arguments)}))})()})();